import tensorflow as tf
from tensorflow import keras
import numpy
model = keras.models.load_model('[YOUR SAVED MODEL NAME PATH HERE]')

img = keras.preprocessing.image.load_img(
    "[YOUR TEST IMAGE PATH HERE]", target_size=(256,256)
)
img_array = keras.preprocessing.image.img_to_array(img)
img_array = tf.expand_dims(img_array, 0)  # Create batch axis

predictions = model.predict(img_array)
print(predictions)
class_int = numpy.where(predictions[0]==numpy.amax(predictions[0]))
decoder = {
    0: "Adialer.C",
    1:"Agent.FYI",
    2: "Allaple.A",
    3: "Allaple.L",
    4:"Alueron.gen!J",
    5:"Autorun.K",
    6:"C2LOP.gen!g",
    7:"C2LOP.P",
    8:"Dialplatform.B",
    9:"Dontovo.A",
    10:"Fakerean",
    11:"Instantaccess",
    12:"Lolyda.AA1",
    13:"Lolyda.AA2",
    14:"Lolyda.AA3",
    15:"Lolyda.AT",
    16:"Malex.gen!J",
    17:"Obfuscator.AD",
    18:"Rbot!gen",
    19:"Skintrim.N",
    20:"Swizzor.gen!E",
    21:"Swizzor.gen!I",
    22:"VB.AT",
    23:"Wintrim.BX",
    24:"Yuner.A"
}

print (decoder.get(class_int[0][0]))